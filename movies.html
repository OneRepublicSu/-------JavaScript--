<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      var moviesListAll = `（1）I'm movie 01
（2）I'm movie 02
（3）I'm movie 03
（4）I'm movie 04
（5）I'm movie 05
（6）I'm movie 06
（7）I'm movie 07
（8）I'm movie 08
（9）I'm movie 09
（10）I'm movie 10
（11）I'm movie 11
（12）I'm movie 12
（13）I'm movie 13
（14）I'm movie 14
（15）I'm movie 15
（16）I'm movie 16
（17）I'm movie 17
（18）I'm movie 18
（19）I'm movie 19
（20）I'm movie 20`;

      function createArr(file) {
        var arr = moviesListAll.split("\n");
        for (let index = 0; index < arr.length; ++index) {
          arr[index] = arr[index].trim();
        }
        return arr;
      }

      function List() {
        this.listSize = 0;
        this.pos = 0;
        this.dataStore = [];
        this.clear = clear;
        this.find = find;
        this.toString = toString;
        this.insert = insert;
        this.append = append;
        this.remove = remove;
        this.front = front;
        this.end = end;
        this.prev = prev;
        this.next = next;
        this.hasNext = hasNext;
        this.hasPrev = hasPrev;
        this.length = length;
        this.currPos = currPos;
        this.moveTo = moveTo;
        this.getElement = getElement;
        this.contains = contains;
      }

      function append(element) {
        this.dataStore[this.listSize++] = element;
      }

      function find(element) {
        for (var i = 0; i < this.dataStore.length; ++i) {
          if (this.dataStore[i] == element) {
            return i;
          }
        }
        return -1;
      }

      function remove(element) {
        var foundAt = this.find(element);
        if (foundAt > -1) {
          this.dataStore.splice(foundAt, 1);
          --this.listSize;
          return true;
        }
        return false;
      }

      function length() {
        return this.listSize;
      }

      function toString() {
        return this.dataStore;
      }

      function insert(element, after) {
        var insertPos = this.find(after);
        if (insertPos > -1) {
          this.dataStore.splice(insertPos + 1, 0, element);
          ++this.listSize;
          return true;
        }
        return false;
      }

      function clear() {
        delete this.dataStore;
        THIS.dataStore.length = 0;
        // 连续赋值的一个典型案例
        this.listSize = this.pos = 0;
      }

      function contains(element) {
        for (var i = 0; i < this.dataStore.length; ++i) {
          if (this.dataStore[i] == element) {
            return true;
          }
        }
        return false;
      }

      function front() {
        return this.pos = 0;
      }

      function end() {
        this.pos = this.listSize - 1;
      }

      function prev() {
        --this.pos;
      }

      function next() {
        if (this.pos < this.listSize) {
          ++this.pos;
        }
        return this.pos
      }

      function currPos() {
        return this.pos;
      }

      function moveTo(position) {
        this.pos = position;
      }

      function getElement() {
        return this.dataStore[this.pos];
      }

      function hasNext() {
        return this.pos < this.listSize;
      }

      function hasPrev() {
        return this.pos > 0;
      }

      var moviesList = new List();

      const arr = createArr(moviesListAll);


      //   将内容加入列表
      for (let index = 0; index < arr.length; ++index) {
        moviesList.append(arr[index]);
      }
      function display(list) {
        for (list.front(); list.currPos() < list.length(); list.next()) {
            console.log(list.getElement());
            
        }
      }

      display(moviesList)

    

    //   console.log('moviesList',moviesList);
    </script>
  </body>
</html>
